Help Page - Pattern Scripts plugin for JMRI
Introduction
Video Documentation
Organization
Plugin Layout
Pattern Scripts Subroutine
Pattern Report for Track Window
Track Pattern and Switch List JSON format
This program is a plugin for JMRI Operations Pro. With it, the user can generate pattern reports for tracks at a single location.
Additionally, cars can be moved from track to track within a location, and optionally, if a car is moved onto a spur, the schedule for that spur can be applied.
Support for my TrainPlayer suite of scripts is also included. The use of this plugin is documented in the following list of videos.
Key
These videio are recorded in the english language.
How to add this plugin to JMRI
How to set up this plugin
Demonstration at a yard
Demonstration at industry
How to modify this plugin
Use this plugin with TrainPlayer
The following chart shows the code structure of this plugin.
The pattern reports and TrainPlayer exports all start with the creation of a JSON file.
The file is created by this plugin and in the case of TrainPlayer manifest exports the JSON is created by modifying the JMRI generated manifest JSON.
All the JSON files are written to the jsonManifests folder. They follow the illustrated format:
Each JMRI profile gets its own configuration file, which is named PatternConfig.json.
It is found in the operations folder, and is used to provide custom settings for each profile and record user inputs.
The description of each element is in blue
User editable keys are described in green
Guard rails of sorts have been put up around the values marked in green, but even so this plugin is not able to catch every type of mistake that can be made when editing the PatternConfig.json file, and in some cases the plugin might crash.
If that happens, press the 'Restart from PatternConfig Backup" button and the plugin will use the last good PatternConfig.json file as a new starting off point.
In other cases, if a mistake is made editing the PatternConfig.json file, the plugin will replace it with the default file, and the user will have to start over.
Worst case, simply delete the Pattern Config.json file and the plugin will create a new one.
Color Definations
Color Pallett
Any of these colors can be changed
Alpha value
Blue value
Vague Description
Green value
Red value
No color can be specified with ""
Do not edit these
Add button to Panel Pro frame, plugin is not displayed but still enabled
May be expanded in v3
Script Includes
Include this subroutine in the Control Panel
Available in v3
Default panel height
Default panel width
Not Implemented
Revision control
All Locations (written by this plugin)
Pattern Location (written by this plugin)
Pattern Tracks (written by this plugin)
Yard Tracks Only flag (set by user)
Ignore Track Length flag (set by user)
Apply Schedule flag (set by user)
Pattern Width
Pattern Height
Row Multiplier
Destination standin
Destination Track standin
Final Destination standin
Final destination Track standin
Sort Locomotives
Sort Cars
Attribute Width
