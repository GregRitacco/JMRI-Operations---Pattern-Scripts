<!-- Patterns help section html -->
<h2>Patterns Subroutine</h2>
<h3>Description</h3>
<p>The Patterns subroutine can generate pattern reports for tracks at a single location. Additionally, cars can be moved from track to track within a location. Optionally, if a car is moved onto a spur, the schedule for that spur can be applied.</p>
<h3>What the buttons do</h3>
<p>If you are using divisions, the Division drop down will display a list of divisions. Selecting a division will load a list of locations for that division into the Location drop dow.</p>
<p>The Location drop down will display a list of locations for your layout, or just the locations assigned to the selected division.</p>
<p>With a location selected, a list of check boxes will display, one for each track at the selected location.</p>
<p>The list of tracks can be filtered by clicking the 'Yard Tracks Only' check box on or off.</p>
<p>Individual tracks can be selected by clicking the check box next to the track name.</p>
<p>With tracks selected, pressing the Pattern Report button will display inventory information about the selected tracks. This is printable.</p>
<p>With tracks selected, pressing the Set Rolling Stock to Track button will pop open one worklist for each track selected.</p>
<p>For each worklist window, a row of buttons, one for each track of the selected location, will display. Pressing one of the track buttons will load the track name into memory.</p>
<p>For any of the rolling stock rows in the Cars At... panel, clicking inside of one of the text boxes will paste the selected track name into the box.</p>
<p>Pressing the Switch List button will generate a switch list of work for that track. This is printable. If o2o is being used, a TrainPlayer work list will also be generated.</p>
<p>Pressing the Set Rolling Stock to Track button will open a pop up.</p>
<p>The pop up adds the option to use a spurs schedule and overide track capacity.</p>
<p>Pressing the Set Cars button will cause the rolling stock in the worklist to be moved to the selected track, subject to type restrictions.</p>
<h3>Subroutine Panel</h3>
<p>Subroutines.Patterns.View.ManageGui</p>
<img src="../Subroutines/Patterns/img/Pattern_Scripts_Subroutine.png" alt="<Pattern Scripts Subroutine Image>">
<h3>Pattern Report for Track Window</h3>
<p>Subroutines.Patterns.ControllerSetCarsForm.CreatePatternReportGui.makeFrame()</p>
<img src="../Subroutines/Patterns/img/Pattern_Report_For_Track.png" alt="<Pattern Report for Track Window Image>">
<h3>Track Pattern, Switch List and Work Event json format</h3>
<p>All the pattern reports start with the creation of a json file. These files are created by this plugin and are written to the jsonManifests folder. They follow the illustrated format:</p>
<img src="../Subroutines/Patterns/img/Report_File_Format.png" alt="<JSON format for reports>">
<p>Depending upon the task, any of the json files will then be written into a Pattern Report or Switchlist text file or exported to TrainPlayer as a WorkEvents csv file.</p>
<h4>Patterns Subroutine settings in configFile.json</h4>
<pre>
  "Patterns" : { <font color="DarkRed">Patterns Subroutine settings</font>
    "AD" : [ <font color="DarkRed">All divisions</font>
    ],
    "AL" : [ <font color="DarkRed">All locations</font>
    ],
    "PL" : "", <font color="DarkRed">Pattern Location</font>
    "PT" : { <font color="DarkRed">Pattern-Tracks</font>
    },
    "PA" : false, <font color="DarkRed">Yard Tracks Only flag (set by user, written by this plugin)</font>
    "PI" : false, <font color="DarkRed">Ignore Track Length flag (set by user, written by this plugin)</font>
    "AS" : true, <font color="DarkRed">Apply Schedule flag (set by user, written by this plugin)</font>
    "TI" : false, <font color="DarkRed">TrainPlayer Include flag (reserved)</font>
    "PW" : 260, <font color="DarkRed">Pattern Width</font>
    "PH" : 16, <font color="DarkRed">Pattern Height</font>
    "RM": 8, <font color="DarkRed">Row Multiplier</font>

  "RM" : { <font color="DarkRed">Report Modifiers</font></h4>
    "DS" : "<font color="green">*No Waybill</font>", <font color="DarkRed">Destination designator</font>
    "DT" : "<font color="green">*Not Consigned</font>", <font color="DarkRed">Destination Track designator</font>
    "FD" : "<font color="green">*Via Staging</font>", <font color="DarkRed">Final Destination designator</font>
    "FT" : "<font color="green">*Any Line</font>", <font color="DarkRed">Final destination Track designator</font>
    "SL": [ <font color="DarkRed">Sort Locomotives</font>
      "<font color="green">Model</font>"
    ],
    "SC": [ <font color="DarkRed">Sort Cars</font>
      "<font color="green">Load Type</font>",
      "<font color="green">FD&Track</font>"
    ],
    "AW": { <font color="DarkRed">Attribute Width</font>
      "Input": <font color="green">6</font>,
      "Model": <font color="green">5</font>,
      "Road" : <font color="green">5</font>,
      "Number" : <font color="green">7</font>,
      "Type" : <font color="green">6</font>,
      "Length" : <font color="green">7</font>,
      "Weight" : <font color="green">7</font>,
      "Load" : <font color="green">6</font>,
      "Load Type" : <font color="green">5</font>,
      "Loco Type" : <font color="green">18</font>,
      "Owner" : <font color="green">20</font>,
      "Consist" : <font color="green">8</font>,
      "Hazardous" : <font color="green">10</font>,
      "Color" : <font color="green">6</font>,
      "Kernel" : <font color="green">7</font>,
      "Kernel Size" : <font color="green">12</font>,
      "Owner" : <font color="green">6</font>,
      "Track" : <font color="green">6</font>,
      "Location" : <font color="green">9</font>,
      "Destination" : <font color="green">15</font>,
      "Dest&Track" : <font color="green">30</font>,
      "Final Dest" : <font color="green">11</font>,
      "FD&Track" : <font color="green">21</font>,
      "Comment" : <font color="green">15</font>,
      "SetOut Msg" : <font color="green">12</font>,
      "PickUp Msg" : <font color="green">12</font>,
      "RWE" : <font color="green">10</font>,
      " " : 0
    }
  },
</pre>
