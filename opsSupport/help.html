<h1>Help Page - Pattern Scripts plugin for JMRI</h1>
<p>The Pattern Scripts plugin for JMRI is a suite of subroutines for JMRI Operations Pro. The use of this plugin is documented in the following list of YouTube videos. The videos are recorded in the English language.</p>
<h3>Pattern Scripts plugin - Video Documentation</h3>
<p>Overview of this plugin</p>
<p><A HREF="https://youtu.be/Sl9yBQaRpeY">How to add this plugin to JMRI</A></p>
<p><A HREF="https://youtu.be/6G7xkRJTczo">How to translate this plugin</A></p>
<p><A HREF="https://youtu.be/GjPtXk3oKmc">How to set up this plugin</A></p>
<p><A HREF="https://youtu.be/DK6O9AQmqXo">How to modify this plugin</A></p>
<h3>Subroutines - Video Documentation</h3>
<p>The j Plus Subroutine</p>
<p>The Patterns Subroutine - An overview</p>
<p><A HREF="https://youtu.be/IdXvxyo-E3Y">The Patterns Subroutine - Demonstration at a yard</A></p>
<p><A HREF="https://youtu.be/2Tv6sUMDD_Y">The Patterns Subroutine - Demonstration at industry</A></p>
<p><A HREF="https://youtu.be/rlUfoSesnQo">o2o, the ops to ops subroutine for use with TrainPlayerÂ© model railroad software</A></p>
<p>The Throwback Subroutine - Run 'what if?' experiments on your layout.</p>
<h2>Pattern Scripts plugin</h2>
<h3>Introduction</h3>
<p>The Pattern Scripts plugin can be thought of as a framework for hosting subroutines for JMRI Operations Pro that require a user interface. This plugin comes with four subroutines; jPlus, Patterns, o2o and Throwback. A template is also included to serve as scaffolding for someone wishing to add their own subroutine.</p>
<p>Although the subroutines are somewhat interdependent, they may be added or removed individually as needed.</p>
<p>Additionally, each subroutine can be activated or deactivated as needed, fron the Tools menu pulldown.</p>
<p>Each subroutines' features are only available when the subroutine is active and the Pattern Scripts window is open. For example, extended railroad details will only appear in reports when the Pattern Scripts window is open and the jPlus subroutine is displayed. This is an easy way to turn features on or off.</p>
<h3>Organization</h3>
<p>The following chart shows the code structure of this plugin.</P>
<img src="./img/Code_Structure.png" alt="<Code Structure Image>">
<h3>Plugin Layout</h3>
<p>OperationsPatternScripts.MainScript.View.makePatternScriptsWindow()</p>
<img src="./img/Plugin_Layout.png" alt="<Plugin Layout Image>">
<h3>PatternConfig.json</h3>
<p>Each JMRI profile gets its own configuration file, which is named configFile.json. It is found in the operations folder, and is used to provide custom settings for each profile and record user inputs.</p>
<p><font color="DarkRed">The description of each element is in dark red.</font></p>
<p><font color="green">User editable keys are described in green.</font></p>
<p>Select Tools/Edit Config File. If a mistake is made editing the configFile, the plugin will delete the file and provide a new one to start over with. Worst case the plugin may crash. If that should happed select Tools/Restart From Default.</p>
<h4>Pattern Scripts plugin settings in PatternConfig.json</h4>
<pre>
  {
    "Main Script": {
      "CD": {  <font color="DarkRed">Color Definitions</font>
        "<font color="green">BLANCH</font>": { <font color="DarkRed">Any of these colors can be changed</font>
          "A": <font color="green">255</font>, <font color="DarkRed">Alpha value</font>
          "B": <font color="green">225</font>, <font color="DarkRed">Blue value</font>
          "D": <font color="green">Light grey</font>, <font color="DarkRed">Vague Description</font>
          "G": <font color="green">225</font>, <font color="DarkRed">Green value</font>
          "R": <font color="green">225</font> <font color="DarkRed">Red value</font>
        }, 
        "DUST": {
          "A": 255, 
          "B": 218, 
          "D": "Light tan", 
          "G": 242, 
          "R": 252
        }, 
        "FADED": {
          "A": 255, 
          "B": 245, 
          "D": "Light purple", 
          "G": 225, 
          "R": 237
        }, 
        "GLOOM": {
          "A": 10, 
          "B": 0, 
          "D": "Darken a bit", 
          "G": 0, 
          "R": 0
        }, 
        "LICHEN": {
          "A": 255, 
          "B": 244, 
          "D": "Light green", 
          "G": 255, 
          "R": 236
        }, 
        "PALE": {
          "A": 255, 
          "B": 250, 
          "D": "Light blue", 
          "G": 243, 
          "R": 237
        }, 
        "RASH": {
          "A": 255, 
          "B": 224, 
          "D": "Light red", 
          "G": 208, 
          "R": 240
        }, 
        "colorA": "DUST", 
        "colorB": "FADED", 
        "colorC": "RASH"
      }, 
      "CP": { <font color="DarkRed">Control Panel</font>
        "AP": <font color="green">true</font>,  <font color="DarkRed">Add button to Panel Pro frame, plugin is not displayed but still enabled</font>
        "DR": true,  <font color="DarkRed">Reserved</font>
        "OC": <font color="green">true</font>,  <font color="DarkRed">Open System Console Window on starting plugin</font>
        "PH": <font color="green">280</font>,  <font color="DarkRed">Default panel height</font>
        "PW": <font color="green">1000</font>,  <font color="DarkRed">Default panel width</font>
        "PX": 0,     <font color="DarkRed">Plugin location, X axis</font>
        "PY": 0,     <font color="DarkRed">Plugin location, Y axis</font>
        "RV": 20230101,  <font color="DarkRed">Revision control</font>
        "SE": "utf-8",  <font color="DarkRed">Script encoding</font>
        "TC": "UD",  <font color="DarkRed">Translation Choice</font>
        "TS": {  <font color="DarkRed">Translation Services</font>
          "UD": "UseDeepL", 
          "UX": "UseSomethingElse"
        }
      }, 
      "LD": {  <font color="DarkRed">Layout Details</font>
        "BD": "",  <font color="DarkRed">Build Date</font>
        "LN": "",  <font color="DarkRed">Layout Name</font>
        "LO": "",  <font color="DarkRed">Location Modeled</font>
        "OR": "",  <font color="DarkRed">Operating Railroad</font>
        "SC": "",  <font color="DarkRed">Model Railroad Scale</font>
        "TR": "",  <font color="DarkRed">Territory Modeled</font>
        "YR": ""   <font color="DarkRed">Year Modeled</font>
      }, 
      "SR": {  <font color="DarkRed">Scale Rubric</font>
        "G": 11, 
        "HO": 6, 
        "HON3": 4, 
        "N": 2, 
        "O": 10, 
        "ON3": 9, 
        "OO": 5, 
        "S": 8, 
        "SN3": 7, 
        "TT": 3, 
        "Z": 1
      }, 
      "TO": {  <font color="DarkRed">Tweek Operations, adjustments to operations settings</font>
        "CWS": <font color="green">true</font>,  <font color="DarkRed">setCloseWindowOnSaveEnabled</font>
        "SBA": <font color="green">true</font>,  <font color="DarkRed">setBuildAggressive</font>
        "SCT": <font color="green">"ARR Codes"</font>,  <font color="DarkRed">setCarTypes</font>
        "SIA": <font color="green">true</font>,  <font color="DarkRed">setStagingTrackImmediatelyAvail</font>
        "SME": <font color="green">true</font>,  <font color="DarkRed">setMainMenuEnabled</font>
        "TNB": <font color="green">false</font>,  <font color="DarkRed">setStagingTryNormalBuildEnabled</font>
      }
    }, 
</pre>
